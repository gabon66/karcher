


<div ng-show="cargando"  class="col-md-12 col-sm-12 col-xs-12" style="text-align: center">
    <h3>Cargando Sitios   </h3>

    <i ng-show="cargando==true" class="fa fa-cog fa-spin fa-5x fa-fw"></i>
</div>


<div ng-show="!cargando" class="row">
    <div class="col-md-12 col-sm-12 col-xs-12">
        <div class="x_panel">
            <div class="x_title">
                <h2>Mi Stock <small></small></h2>
                <div class="clearfix">
                    <div class="form-group">
                        <label class="sr-only" for="exampleInputAmount">Amount (in dollars)</label>
                        <div class="input-group col-lg-4 pull-right">
                            <div class="input-group-addon"><i class="fa fa-search" aria-hidden="true"></i></div>
                            <input type="text" ng-model="filtromaterial"class="form-control" id="exampleInputAmount" placeholder="ID/ Nombre / Descripci贸n / *">
                        </div>
                    </div>
                </div>
            </div>
            <div class="x_content" style="height:  300px ;overflow: auto">
                <table class="table table-bordered">
                    <thead>
                    <tr>
                        <th>#</th>
                        <th>ID</th>
                        <th>Ref.</th>
                        <th>Nombre</th>
                        <th>Descripci贸n</th>

                        <th>Stock Actual</th>
                        <th>Saliente</th>
                        <th>Operaciones</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr ng-repeat="item in stock | filter:filtromaterial">
                        <th>{{ $index +1 }}</th>
                        <td>{{ item.idCustom }}</td>
                        <td>
                            <button class="btn btn-sm" ng-style="{'background-color':item.referencia.ref1}"></button>
                            <button class="btn btn-sm" ng-style="{'background-color':item.referencia.ref2}"></button>
                        </td>
                        <td>{{ item.name }}</td>
                        <td>{{ item.descript  }}</td>

                        <td style="text-align: right">{{ item.stock }}</td>
                        <td style="text-align: right">
                            <input class="input-group-sm" ng-model="item.cant" type="number" style="width: 60px;height: 22px;text-align: right" placeholder="1" />
                        </td>
                        <td ng-if="!item.new_stock" >
                            <a  ng-if="item.stock>0" class="btn btn-sm btn-success " ng-click="setStock(item)" ><i class="fa fa-long-arrow-down" aria-hidden="true"></i></a>
                            <a  ng-if="item.showcancel"  class="btn btn-sm btn-warning " ng-click="cancelStock(item)" ><i class="fa fa-ban" aria-hidden="true"></i>
                            </a>

                        </td>
                        <td ng-if="item.new_stock" >
                            <a  ng-if="item.stock>0"  class="btn btn-sm btn-warning " ng-click="setStock(item)" ><i class="fa fa-long-arrow-down" aria-hidden="true"></i></a>
                            <a  class="btn btn-sm btn-warning " ng-click="cancelStock(item)" ><i class="fa fa-ban" aria-hidden="true"></i>
                            </a>
                        </td>


                    </tr>
                    </tbody>
                </table>

            </div>

        </div>
    </div>
    <div class="col-md-12 col-sm-12 col-xs-12">
        <div class="x_panel">
            <div class="row">
                <div class="col-lg-2">
                    <h2>Stock Sitio<small></small></h2>
                </div>
                <div class="col-lg-3" >
                    <div class="form-group has-success has-feedback">
                        <!--<select  class="form-control" name="typematerial" id="mySelect"
                                 ng-options="sitio.name for sitio in sitios track by sitio.id"
                                 ng-model="sitiosstock"></select>-->

                        <angucomplete id="ex2"
                                      placeholder="Ingrese sitio"
                                      pause="100"
                                      selectedobject="sitiosstock"
                                      localdata="sitios"
                                      searchfields="name,emplazamiento"
                                      titlefield="name,emplazamiento"
                                      minlength="4"
                                      inputclass="form-control"/>

                    </div>
                </div>
                <div class="col-lg-7" >
                    <div class="form-group">
                        <label class="sr-only" for="exampleInputAmount">Amount (in dollars)</label>
                        <div class="input-group col-lg-6 pull-right">
                            <div class="input-group-addon"><i class="fa fa-search" aria-hidden="true"></i></div>
                            <input type="text" ng-model="filtrostockpend"class="form-control" id="exampleInputAmounts" placeholder="ID/ Nombre / Descripci贸n / *">
                        </div>
                    </div>
                </div>
            </div>

            <div class="x_content" style="height:  50% ;overflow: auto">
                <table class="table table-bordered">
                    <thead>
                    <tr>
                        <th>#</th>
                        <th>ID</th>
                        <th>Ref</th>
                        <th>Nombre</th>
                        <th>Descripci贸n</th>
                        <th>Stock</th>

                    </tr>
                    </thead>
                    <tbody>
                    <tr ng-repeat="item in stockPendiente | filter:filtrostockpend">
                        <th>{{ $index +1 }}</th>
                        <td>{{ item.idCustom }}</td>
                        <td>
                            <button class="btn btn-sm" ng-style="{'background-color':item.referencia.ref1}"></button>
                            <button class="btn btn-sm" ng-style="{'background-color':item.referencia.ref2}"></button>
                        </td>
                        <td>{{ item.name }}</td>
                        <td>{{ item.descript}}</td>
                        <td style="text-align: right">
                            <a  class="btn btn-sm btn-success " style="visibility: hidden" ng-click="setStock(item)" ><i class="fa fa-long-arrow-left" aria-hidden="true"></i>
                            </a>{{ item.stock }}
                        </td>
                    </tr>
                    </tbody>
                </table>

            </div>
            <div class="x_content">
                <a class="btn btn-success pull-right" ng-click="confirmar()">Confirmar</a>
            </div>

        </div>
    </div>
</div>


